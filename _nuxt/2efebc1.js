(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{137:function(t,e,r){"use strict";r.d(e,"c",(function(){return h})),r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return c}));var n,o,c,f=r(26),l=r(167),d=r(168),v=r(169);function h(t){n=Object(f.getModule)(l.default,t),o=Object(f.getModule)(d.default,t),c=Object(f.getModule)(v.default,t)}},167:function(t,e,r){"use strict";r.r(e);r(57);var n=r(5),o=r(17),c=r(24),f=r(30),l=r(25),d=r(13),v=r(16),h=(r(56),r(12),r(26)),m=r(46);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var O=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},j=function(t){Object(f.a)(v,t);var e,r,l,d=y(v);function v(){var t;return Object(o.a)(this,v),(t=d.apply(this,arguments)).user=null,t.loaded=!1,t}return Object(c.a)(v,[{key:"setUser",value:function(t){this.user=t,this.loaded=!0}},{key:"fetch",value:(l=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loaded){t.next=6;break}return t.t0=this.context,t.next=4,m.a.fetchAuth();case 4:t.t1=t.sent.user,t.t0.commit.call(t.t0,"setUser",t.t1);case 6:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"login",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.login(e);case 2:return t.abrupt("return",t.sent.user);case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"logout",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.logout();case 2:return t.abrupt("return",null);case 3:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]),v}(h.VuexModule);O([h.Mutation],j.prototype,"setUser",null),O([Object(h.Action)({rawError:!0})],j.prototype,"fetch",null),O([Object(h.Action)({commit:"setUser",rawError:!0})],j.prototype,"login",null),O([Object(h.Action)({commit:"setUser",rawError:!0})],j.prototype,"logout",null),j=O([Object(h.Module)({name:"auth",namespaced:!0,stateFactory:!0})],j),e.default=j},168:function(t,e,r){"use strict";r.r(e);r(57);var n=r(5),o=r(17),c=r(24),f=r(30),l=r(25),d=r(13),v=r(16),h=(r(56),r(12),r(26)),m=r(46);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var O=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},j=function(t){Object(f.a)(l,t);var e,r=y(l);function l(){var t;return Object(o.a)(this,l),(t=r.apply(this,arguments)).version=null,t}return Object(c.a)(l,[{key:"fetch",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.fetchBackend();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]),l}(h.VuexModule);O([Object(h.MutationAction)({mutate:["version"],rawError:!0})],j.prototype,"fetch",null),j=O([Object(h.Module)({name:"backend",namespaced:!0,stateFactory:!0})],j),e.default=j},169:function(t,e,r){"use strict";r.r(e);r(57);var n=r(5),o=r(17),c=r(24),f=r(30),l=r(25),d=r(13),v=r(16),h=(r(56),r(12),r(26)),m=r(46);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var O=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},j=function(t){Object(f.a)(d,t);var e,r,l=y(d);function d(){var t;return Object(o.a)(this,d),(t=l.apply(this,arguments)).users=null,t.currentUser=null,t}return Object(c.a)(d,[{key:"fetchAll",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.fetchUsers();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"fetchCurrent",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,t.next=3,m.a.fetchUser(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"setCurrentUser",value:function(t){this.currentUser=t}}]),d}(h.VuexModule);O([Object(h.MutationAction)({mutate:["users"],rawError:!0})],j.prototype,"fetchAll",null),O([Object(h.Action)({commit:"setCurrentUser",rawError:!0})],j.prototype,"fetchCurrent",null),O([h.Mutation],j.prototype,"setCurrentUser",null),j=O([Object(h.Module)({name:"users",namespaced:!0,stateFactory:!0})],j),e.default=j},177:function(t,e,r){"use strict";var n=r(0),o=r(46);n.default.use({install:function(t,e){t.mixin({fetchOnServer:function(){return o.a.isServerBackend||this.$store.state.staticRendered}})}})},217:function(t,e,r){var content=r(283);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("6570a8f6",content,!0,{sourceMap:!1})},247:function(t,e,r){"use strict";var n=r(5),o=(r(56),r(97)),c={data:function(){return{drawer:!1,items:[{icon:"mdi-apps",title:"Home",to:"/"},{icon:"mdi-account-multiple",title:"Users",to:"/users"}],title:"social-todo"}},computed:{currentUser:function(){return o.authStore.user}},mounted:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.authStore.fetch();case 2:case"end":return t.stop()}}),t)})))()},methods:{logout:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.authStore.logout();case 2:t.$router.push("/");case 3:case"end":return e.stop()}}),e)})))()}}},f=r(89),l=r(115),d=r.n(l),v=r(365),h=r(371),m=r(366),y=r(171),O=r(248),j=r(372),x=r(367),R=r(170),w=r(172),k=r(110),_=r(173),A=r(80),U=r(368),V=r(370),S=r(369),C=r(243),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[r("v-navigation-drawer",{attrs:{"mobile-breakpoint":0,temporary:t.$vuetify.breakpoint.xs,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",t._l(t.items,(function(e,i){return r("v-list-item",{key:i,attrs:{to:e.to,router:"",exact:""}},[r("v-list-item-action",[r("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),1)],1),t._v(" "),r("v-app-bar",{attrs:{app:""}},[t.$vuetify.breakpoint.xs?r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e(),t._v(" "),r("v-toolbar-title",{staticClass:"mr-2",staticStyle:{cursor:"pointer"},domProps:{textContent:t._s(t.title)},on:{click:function(e){return e.stopPropagation(),t.$router.push({path:"/"})}}}),t._v(" "),t.$vuetify.breakpoint.xs?t._e():t._l(t.items.filter((function(t){return"/"!==t.to})),(function(e,i){return r("v-btn",{key:i,attrs:{to:e.to,router:"",exact:""}},[t._v(t._s(e.title))])})),t._v(" "),r("v-spacer"),t._v(" "),t.currentUser?[r("v-avatar",{staticClass:"mr-2",attrs:{color:"primary"}},[t._v(t._s(t.currentUser.name[0]))]),t._v(" "),r("v-btn",{on:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("Logout")])]:[r("v-btn",{attrs:{to:"/login",router:"",exact:""}},[t._v("Login")])]],2),t._v(" "),r("v-main",[r("v-container",[r("nuxt")],1)],1),t._v(" "),r("v-footer",{attrs:{app:""}},[r("span",[t._v("Â© "+t._s((new Date).getFullYear())+"\n      "),r("a",{attrs:{href:"https://github.com/vtavernier",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vtavernier")])])])],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VApp:v.a,VAppBar:h.a,VAppBarNavIcon:m.a,VAvatar:y.a,VBtn:O.a,VContainer:j.a,VFooter:x.a,VIcon:R.a,VList:w.a,VListItem:k.a,VListItemAction:_.a,VListItemContent:A.a,VListItemTitle:A.c,VMain:U.a,VNavigationDrawer:V.a,VSpacer:S.a,VToolbarTitle:C.a})},257:function(t,e,r){r(258),t.exports=r(259)},282:function(t,e,r){"use strict";r(217)},283:function(t,e,r){var n=r(19)(!1);n.push([t.i,"h1[data-v-495dc2cf]{font-size:20px}",""]),t.exports=n},46:function(t,e,r){"use strict";r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return m}));var n,o=r(5),c=r(17),f=r(24),l=(r(56),r(31),r(78)),d=r.n(l);!function(t){t.Admin="admin",t.User="user"}(n||(n={}));var v=function(){function t(e){Object(c.a)(this,t);var r="/api/v1/";void 0===e?(this.axios=d.a.create({baseURL:r}),this.isServerBackend=!1):(this.axios=d.a.create({baseURL:"".concat(e).concat(r)}),this.isServerBackend=!0)}var e,r,n,l,v,h;return Object(f.a)(t,[{key:"fetchBackend",value:(h=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"fetchUsers",value:(v=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/users/");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"fetchUser",value:(l=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/users/".concat(e,"/"));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"fetchAuth",value:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.get("/auth/");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"login",value:(r=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.post("/auth/",e);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"logout",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axios.delete("/auth/");case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),h=new v;function m(t){h=new v(t)}},77:function(t,e,r){"use strict";var n={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(282),r(89)),c=r(115),f=r.n(c),l=r(365),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[404===t.error.statusCode?r("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):r("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),r("NuxtLink",{attrs:{to:"/"}},[t._v(" Home page ")])],1)}),[],!1,null,"495dc2cf",null);e.a=component.exports;f()(component,{VApp:l.a})},97:function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"plugins",(function(){return c})),r.d(e,"state",(function(){return f})),r.d(e,"mutations",(function(){return l})),r.d(e,"actions",(function(){return d}));var n=r(137),o=r(46);r.d(e,"initializeStores",(function(){return n.c})),r.d(e,"authStore",(function(){return n.a})),r.d(e,"backendStore",(function(){return n.b})),r.d(e,"usersStore",(function(){return n.d}));var c=[function(t){return Object(n.c)(t)}],f=function(){return{staticRendered:!1}},l={setStaticRendered:function(t,e){t.staticRendered=e}},d={nuxtServerInit:function(e,r){var n=e.commit,c=(r.req,t.env.SOCIAL_TODO_BACKEND);c&&(n("setStaticRendered","true"!==t.env.SOCIAL_TODO_SSR),Object(o.b)(c))}}}.call(this,r(165))}},[[257,7,2,8]]]);